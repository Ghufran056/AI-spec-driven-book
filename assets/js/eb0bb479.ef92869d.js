"use strict";(globalThis.webpackChunkai_driven_book=globalThis.webpackChunkai_driven_book||[]).push([[4458],{3210:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>r,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"chapter3/3.4-ros-interfaces-messages","title":"ROS Interfaces (Messages)","description":"Learning Objectives","source":"@site/docs/chapter3/3.4-ros-interfaces-messages.mdx","sourceDirName":"chapter3","slug":"/chapter3/3.4-ros-interfaces-messages","permalink":"/AI-spec-driven-book/docs/chapter3/3.4-ros-interfaces-messages","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/chapter3/3.4-ros-interfaces-messages.mdx","tags":[],"version":"current","frontMatter":{"id":"3.4-ros-interfaces-messages","title":"ROS Interfaces (Messages)","sidebar_label":"3.4 - ROS Interfaces (Messages)"},"sidebar":"tutorialSidebar","previous":{"title":"3.3 - Services & Actions","permalink":"/AI-spec-driven-book/docs/chapter3/3.3-services-actions"},"next":{"title":"3.5 - Workspaces & Packages","permalink":"/AI-spec-driven-book/docs/chapter3/3.5-workspaces-packages"}}');var t=n(4848),a=n(8453);const r={id:"3.4-ros-interfaces-messages",title:"ROS Interfaces (Messages)",sidebar_label:"3.4 - ROS Interfaces (Messages)"},o="ROS Interfaces (Messages)",c={},l=[{value:"Learning Objectives",id:"learning-objectives",level:2},{value:"Introduction",id:"introduction",level:2},{value:"Main Theory",id:"main-theory",level:2},{value:"1. Message Definition Files (.msg)",id:"1-message-definition-files-msg",level:3},{value:"2. Service Definition Files (.srv)",id:"2-service-definition-files-srv",level:3},{value:"3. Action Definition Files (.action)",id:"3-action-definition-files-action",level:3},{value:"4. Standard Message Types",id:"4-standard-message-types",level:3},{value:"5. Message Generation",id:"5-message-generation",level:3},{value:"6. Serialization",id:"6-serialization",level:3},{value:"Examples",id:"examples",level:2},{value:"Example: Custom Sensor Message",id:"example-custom-sensor-message",level:3},{value:"Example: Service for Robot Control",id:"example-service-for-robot-control",level:3},{value:"Example: Action for Navigation",id:"example-action-for-navigation",level:3},{value:"Practical Notes",id:"practical-notes",level:2},{value:"Summary",id:"summary",level:2},{value:"Glossary",id:"glossary",level:2},{value:"Quick Quiz",id:"quick-quiz",level:2}];function d(e){const s={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.header,{children:(0,t.jsx)(s.h1,{id:"ros-interfaces-messages",children:"ROS Interfaces (Messages)"})}),"\n",(0,t.jsx)(s.h2,{id:"learning-objectives",children:"Learning Objectives"}),"\n",(0,t.jsx)(s.p,{children:"By the end of this lesson, you will be able to:"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"Understand the role of message interfaces in ROS 2 communication"}),"\n",(0,t.jsx)(s.li,{children:"Define custom message types for your applications"}),"\n",(0,t.jsx)(s.li,{children:"Identify standard message types from common_msgs"}),"\n",(0,t.jsx)(s.li,{children:"Explain how messages are serialized and transmitted"}),"\n",(0,t.jsx)(s.li,{children:"Create and use service and action interfaces"}),"\n",(0,t.jsx)(s.li,{children:"Organize message packages for reuse across projects"}),"\n"]}),"\n",(0,t.jsx)(s.h2,{id:"introduction",children:"Introduction"}),"\n",(0,t.jsx)(s.p,{children:"ROS interfaces define the structure of data exchanged between nodes through topics, services, and actions. Messages are the data structures that carry information in publish-subscribe communications, while services use request/response message pairs, and actions use goal/feedback/result message triplets. Understanding how to define and use these interfaces is essential for effective ROS 2 development, as they form the contract between different parts of your robot system."}),"\n",(0,t.jsx)(s.p,{children:"Message interfaces in ROS 2 are defined using special definition files (.msg, .srv, .action) that specify the data fields and their types. These definitions are compiled into language-specific implementations (C++, Python, etc.) that allow nodes written in different languages to exchange data seamlessly. This standardized approach ensures interoperability across the entire ROS ecosystem."}),"\n",(0,t.jsx)(s.h2,{id:"main-theory",children:"Main Theory"}),"\n",(0,t.jsx)(s.h3,{id:"1-message-definition-files-msg",children:"1. Message Definition Files (.msg)"}),"\n",(0,t.jsx)(s.p,{children:"Message definition files define the structure of data exchanged through topics. Each line in a .msg file specifies a field type and name. Supported field types include primitive types (int8, float64, string) and other message types."}),"\n",(0,t.jsx)(s.h3,{id:"2-service-definition-files-srv",children:"2. Service Definition Files (.srv)"}),"\n",(0,t.jsx)(s.p,{children:"Service files define the request and response structure for service calls. The request and response parts are separated by three dashes (---), with fields defined in the same way as message files."}),"\n",(0,t.jsx)(s.h3,{id:"3-action-definition-files-action",children:"3. Action Definition Files (.action)"}),"\n",(0,t.jsx)(s.p,{children:"Action files define the goal, feedback, and result structure for action communications. The three parts are separated by three dashes (---), allowing for complex, multi-part interactions."}),"\n",(0,t.jsx)(s.h3,{id:"4-standard-message-types",children:"4. Standard Message Types"}),"\n",(0,t.jsx)(s.p,{children:"The common_msgs package provides standardized message types for common robot data like sensor readings, geometry information, and navigation goals. Using these standard types promotes interoperability between different ROS packages."}),"\n",(0,t.jsx)(s.h3,{id:"5-message-generation",children:"5. Message Generation"}),"\n",(0,t.jsx)(s.p,{children:"During the build process, message definition files are processed by code generators to create language-specific implementations that can be used in nodes."}),"\n",(0,t.jsx)(s.h3,{id:"6-serialization",children:"6. Serialization"}),"\n",(0,t.jsx)(s.p,{children:"Messages are serialized to binary format for transmission over the network. This process converts the structured data into a byte stream that can be transmitted efficiently and reconstructed at the destination."}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{children:"Message Definition Process:\n\n[.msg file] \u2192 [rosidl_generator_py/cpp] \u2192 [Python/C++ classes] \u2192 [Runtime objects]\n\nExample .msg file:\nint64 id\nstring name\ngeometry_msgs/Point position\n---\n"})}),"\n",(0,t.jsx)(s.h2,{id:"examples",children:"Examples"}),"\n",(0,t.jsx)(s.h3,{id:"example-custom-sensor-message",children:"Example: Custom Sensor Message"}),"\n",(0,t.jsx)(s.p,{children:"A robot might define a custom sensor message that includes both raw readings and processed data:"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{children:"sensor_msgs/LaserScan raw_scan\nfloat32[] processed_distances\nbool obstacle_detected\nuint8 obstacle_direction  # 0-left, 1-front, 2-right\n"})}),"\n",(0,t.jsx)(s.h3,{id:"example-service-for-robot-control",children:"Example: Service for Robot Control"}),"\n",(0,t.jsx)(s.p,{children:"A service to command robot movement might have a request with velocity commands and a response with success status:"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{children:"# Request\nfloat64 linear_velocity\nfloat64 angular_velocity\n---\n# Response\nbool success\nstring message\n"})}),"\n",(0,t.jsx)(s.h3,{id:"example-action-for-navigation",children:"Example: Action for Navigation"}),"\n",(0,t.jsx)(s.p,{children:"An action for navigation might include a goal with target coordinates, feedback with progress, and a result with success status:"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{children:"# Goal\ngeometry_msgs/PoseStamped target_pose\nfloat32 tolerance\n---\n# Feedback\nfloat32 distance_remaining\ngeometry_msgs/Pose current_pose\n---\n# Result\nbool success\nstring message\n"})}),"\n",(0,t.jsx)(s.h2,{id:"practical-notes",children:"Practical Notes"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"Use standard message types from common_msgs when possible to promote compatibility"}),"\n",(0,t.jsx)(s.li,{children:"Message field names should be descriptive and follow naming conventions"}),"\n",(0,t.jsx)(s.li,{children:"Consider the frequency of message publication when designing message content"}),"\n",(0,t.jsx)(s.li,{children:"Messages should contain all necessary information for the receiver to process them"}),"\n",(0,t.jsx)(s.li,{children:"Keep message sizes reasonable to avoid network congestion"}),"\n",(0,t.jsx)(s.li,{children:"Use arrays for repeated data of the same type"}),"\n",(0,t.jsx)(s.li,{children:"Nested messages are allowed but should be used judiciously"}),"\n"]}),"\n",(0,t.jsx)(s.h2,{id:"summary",children:"Summary"}),"\n",(0,t.jsx)(s.p,{children:"ROS interfaces provide the standardized data structures that enable communication between nodes. Message, service, and action definition files allow developers to specify exactly what data is exchanged between components, with the ROS build system generating appropriate language bindings. Understanding how to properly define and use these interfaces is crucial for creating robust, interoperable robot systems that can scale across different platforms and programming languages."}),"\n",(0,t.jsx)(s.h2,{id:"glossary",children:"Glossary"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Message Interface"}),": Defines the structure of data exchanged through topics in ROS 2"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Service Interface"}),": Defines the request and response structure for service calls"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Action Interface"}),": Defines the goal, feedback, and result structure for action communications"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:".msg file"}),": Definition file that specifies the fields and types of a message"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:".srv file"}),": Definition file that specifies request and response parts of a service"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:".action file"}),": Definition file that specifies goal, feedback, and result parts of an action"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Serialization"}),": The process of converting structured data into a binary format for transmission"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"common_msgs"}),": Package containing standardized message types for common robot data"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"rosidl"}),": ROS Interface Definition Language tools that generate language-specific implementations"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Field"}),": A named data element within a message definition"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Primitive Type"}),": Basic data types like integers, floats, and booleans"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Nested Message"}),": A message field that contains another message type"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Message Generation"}),": The build process that creates language-specific message classes from definition files"]}),"\n"]}),"\n",(0,t.jsx)(s.h2,{id:"quick-quiz",children:"Quick Quiz"}),"\n",(0,t.jsxs)(s.ol,{children:["\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsx)(s.p,{children:"What file extension is used for message definition files in ROS 2?\nA) .srv\nB) .action\nC) .msg\nD) .interface"}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsx)(s.p,{children:"How are request and response parts separated in a service definition file?\nA) With a single dash (-)\nB) With two dashes (=)\nC) With three dashes (---)\nD) With a colon (:)"}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsx)(s.p,{children:"Which package provides standardized message types for common robot data?\nA) std_msgs\nB) common_msgs\nC) geometry_msgs\nD) sensor_msgs"}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsx)(s.p,{children:"What are the three components of an action definition?\nA) Request, Response, Feedback\nB) Input, Process, Output\nC) Goal, Feedback, Result\nD) Start, Middle, End"}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsx)(s.p,{children:"What happens during the message serialization process?\nA) Messages are compressed for storage\nB) Structured data is converted to binary format for transmission\nC) Messages are validated for correctness\nD) Message definitions are compiled into code"}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Answers:"})}),"\n",(0,t.jsxs)(s.ol,{children:["\n",(0,t.jsx)(s.li,{children:"C) .msg"}),"\n",(0,t.jsx)(s.li,{children:"C) With three dashes (---)"}),"\n",(0,t.jsx)(s.li,{children:"B) common_msgs"}),"\n",(0,t.jsx)(s.li,{children:"C) Goal, Feedback, Result"}),"\n",(0,t.jsx)(s.li,{children:"B) Structured data is converted to binary format for transmission"}),"\n"]})]})}function h(e={}){const{wrapper:s}={...(0,a.R)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},8453:(e,s,n)=>{n.d(s,{R:()=>r,x:()=>o});var i=n(6540);const t={},a=i.createContext(t);function r(e){const s=i.useContext(a);return i.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function o(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),i.createElement(a.Provider,{value:s},e.children)}}}]);