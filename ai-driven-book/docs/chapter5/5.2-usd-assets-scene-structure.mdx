---
id: 5.2-usd-assets-scene-structure
title: USD Assets & Scene Structure
sidebar_label: 5.2 - USD Assets & Scene Structure
---

# USD Assets & Scene Structure

## Learning Objectives

By the end of this lesson, you will be able to:
- Understand the fundamentals of Universal Scene Description (USD) format
- Create and organize USD assets for robotics simulation in Isaac Sim
- Structure complex scenes using USD composition and instancing
- Utilize USD schemas for robotics-specific scene elements
- Implement scene variants and conditional loading in USD
- Integrate external assets and models into USD-based scenes

## Introduction

Universal Scene Description (USD) is NVIDIA's open-source scene description and file format that serves as the foundation for Isaac Sim's scene representation. USD provides a powerful and flexible way to describe complex 3D scenes, assets, and their relationships, making it ideal for robotics simulation where complex environments with multiple interacting objects are common. USD enables scene composition through layering, referencing, and instancing, allowing for efficient organization and reuse of assets.

USD's strength lies in its ability to represent complex scenes as a composition of multiple files, each potentially authored by different teams or tools. This makes it particularly valuable for robotics applications where scenes might include robots, environments, objects, and sensors from various sources. USD supports multiple schemas for different types of objects, including robotics-specific schemas that make it easier to define robot joints, sensors, and other robotics elements.

The format also supports variants, which allow for different versions of the same asset (like different robot configurations or environment states) within a single file. This makes USD a powerful tool for creating flexible simulation environments that can be easily modified and extended for different robotics applications.

## Main Theory

### 1. USD Fundamentals
USD represents scenes as a hierarchical composition of prims (primitives) and properties. Each prim can represent an object, light, camera, or other scene element with associated properties and relationships.

### 2. Scene Composition
USD enables complex scene composition through referencing, layering, and instancing. This allows for efficient reuse of assets and modular scene construction.

### 3. USD Schemas
Schemas define the structure and properties of specific types of objects in USD, including robotics-specific schemas for joints, sensors, and other robot elements.

### 4. Variants and Variant Sets
USD supports variants that allow different versions of the same asset within a single file, useful for different robot configurations or environment states.

### 5. Asset Management
USD provides mechanisms for referencing external assets and managing asset paths, making it easier to organize and share complex robotics scenes.

### 6. Layering and Composition
USD's layering system allows for combining multiple scene descriptions, enabling collaborative workflows and scene modification without altering original assets.

```
USD Scene Structure:

[Stage Root]
    ├── [World Prim]
    │   ├── [Robot Assembly]
    │   │   ├── [Base Link]
    │   │   ├── [Joint 1] → [Link 1]
    │   │   ├── [Joint 2] → [Link 2]
    │   │   └── [Sensors]
    │   ├── [Environment]
    │   │   ├── [Ground Plane]
    │   │   ├── [Obstacles]
    │   │   └── [Lighting]
    │   └── [Simulation Prims]
    │       ├── [Physics Materials]
    │       └── [Collision Properties]
    └── [Variant Sets]
        ├── [Robot Configurations]
        └── [Environment States]
```

## Examples

### Example: Basic USD Structure for a Robot
```usda
#usda 1.0
(
    doc = """Example robot structure in USD"""
    metersPerUnit = 1.0
)

def Xform "Robot"
{
    def Xform "Base"
    {
        def Cylinder "Chassis"
        {
            double radius = 0.2
            double height = 0.1
            uniform token[] apiSchemas = ["PhysicsRigidBodyAPI"]
        }
    }

    def Xform "Arm"
    {
        def Xform "Link1"
        {
            def Capsule "Geometry"
            {
                double radius = 0.05
                double height = 0.3
            }
        }
    }
}
```

### Example: USD with Variants for Different Robot Configurations
```usda
#usda 1.0
(
    doc = """Robot with variants for different configurations"""
)

def Xform "Robot"
{
    variantSet "configurations" = {
        "standard" = {
            def Xform "Arm" {
                def Xform "StandardGripper" {
                    # Standard gripper implementation
                }
            }
        }
        "advanced" = {
            def Xform "Arm" {
                def Xform "AdvancedGripper" {
                    # Advanced gripper implementation
                }
            }
        }
    }

    # Default to standard configuration
    variants = {
        string configurations = "standard"
    }
}
```

### Example: Isaac Sim Scene with USD Assets
```python
import omni
from pxr import Usd, UsdGeom, Sdf
from omni.isaac.core import World
from omni.isaac.core.utils.stage import add_reference_to_stage
from omni.isaac.core.utils.prims import get_prim_at_path

# Create a new USD stage for a robotics scene
stage = omni.usd.get_context().get_stage()

# Create the world prim
world_prim = UsdGeom.Xform.Define(stage, "/World")

# Add robot from USD asset
robot_path = "/World/Robot"
add_reference_to_stage(
    usd_path="path/to/robot_asset.usd",
    prim_path=robot_path
)

# Add environment
env_path = "/World/Environment"
add_reference_to_stage(
    usd_path="path/to/environment.usd",
    prim_path=env_path
)

# Add a ground plane
ground_plane = UsdGeom.Mesh.Define(stage, "/World/GroundPlane")
# Configure ground plane properties...

# Add lighting
dome_light = UsdGeom.DomeLight.Define(stage, "/World/Light/DomeLight")
dome_light.CreateIntensityAttr(1.0)
```

## Practical Notes

- Use USD composition to modularize complex robotics scenes
- Leverage variants for different robot configurations or environment states
- Organize assets with clear naming conventions for easier maintenance
- Use USD schemas to ensure compatibility with Isaac Sim robotics features
- Consider asset paths and dependencies when sharing USD scenes
- Test USD scenes with Isaac Sim's validation tools to ensure proper loading
- Use USD's layering system to enable collaborative development workflows

## Summary

USD provides a powerful and flexible foundation for representing robotics scenes in Isaac Sim. Its composition system, variant support, and schema system make it well-suited for complex robotics applications where scenes need to be modular, configurable, and collaborative. Understanding USD fundamentals is essential for creating effective robotics simulations in Isaac Sim, as it enables efficient asset management, scene organization, and the creation of flexible simulation environments.

## Glossary

- **USD**: Universal Scene Description - NVIDIA's format for 3D scene representation and composition
- **Prim**: Primitive object in USD that represents scene elements like objects, lights, or cameras
- **Stage**: Top-level container in USD that holds the entire scene hierarchy
- **Schema**: Defines the structure and properties of specific types of objects in USD
- **Variant**: Different versions of the same asset within a single USD file
- **Variant Set**: Collection of variants for a particular aspect of an asset
- **Composition**: Process of combining multiple USD files into a single scene
- **Layering**: USD mechanism for combining multiple scene descriptions
- **Referencing**: USD mechanism to include external USD files in a scene
- **Instancing**: Creating multiple copies of the same USD asset efficiently
- **Asset Path**: Path reference to external USD assets
- **Scene Hierarchy**: Tree structure of prims that makes up a USD scene

## Quick Quiz

1. What does USD stand for in the context of Isaac Sim?
   A) Universal Simulation Description
   B) Universal Scene Description
   C) Unified Scene Definition
   D) Universal System Definition

2. What is a "prim" in USD terminology?
   A) Primary rendering element
   B) Primitive object that represents scene elements
   C) Processing instruction module
   D) Physics rigid body definition

3. What are variants in USD used for?
   A) Creating backup copies of scenes
   B) Different versions of the same asset within a single file
   C) Optimizing rendering performance
   D) Defining physics properties

4. Which of the following is NOT a benefit of USD's composition system?
   A) Modular scene construction
   B) Efficient asset reuse
   C) Collaborative workflows
   D) Reduced rendering quality

5. What is the purpose of USD schemas in robotics applications?
   A) To compress USD files
   B) To define the structure and properties of specific object types
   C) To render 3D graphics
   D) To simulate physics interactions

**Answers:**
1. B) Universal Scene Description
2. B) Primitive object that represents scene elements
3. B) Different versions of the same asset within a single file
4. D) Reduced rendering quality
5. B) To define the structure and properties of specific object types